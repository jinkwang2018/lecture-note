<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Portfolio Item - Start Bootstrap Template</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/portfolio-item.css" rel="stylesheet">
	<style> 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }
    .carousel-inner img {
      width: 100%; 
      margin: auto;
      min-height:200px;
     }
     .container-fluid{
      width: 100%;
      margin: auto;
      /*padding: 60px 50px;*/
     }  
  .bg-grey {
      background-color: #f6f6f6;
  }
  	@keyframes fadeIn {
	    from {opacity: 0;}
	    to {opacity: 1;}
	}
	 
	@keyframes chill {
	    from {opacity: 1;}
	    to {opacity: 1;}
	}
	 
	@keyframes fadeOut {
	    from {opacity: 1;}
	    to {opacity: 0;}
	}
	 
	p {
	  position: absolute;
	  top: 10px;
	  left: 12px;
	  color: white;
	  opacity: 0;
	  font-family: "Source Sans Pro";
	  animation: fadeIn 2s ease-out, chill 2s 2s, fadeOut 2s 4s;
	}
	#canvas{
		background: #212121;
 		margin: 0;
  		overflow: hidden;
		width : 1000px;
		height: 500px; 
	}
  </style>


</head>

<body>

    <!-- Navigation -->
 <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">Team 4OUR Introduce</a>
    </div>
   <ul class="nav navbar-nav">
         <li><a href="#">김태웅</a></li>
         <li><a href="#">이진우</a></li>
         <li><a href="#">배현준</a></li>
         <li><a href="#">김래영</a></li>
         <li><a href="#">박주원</a></li>
         <li class="dropdown"><a class="dropdown-toggle" 
            data-toggle="dropdown" href="portfolio_Canvas_Main.html">Protfolio<span class="caret"></span></a> 
            <ul class="dropdown-menu"> <!-- 메뉴 스크롤 생성 -->
               <li><a href="portfolio_Canvas_Main.html">HTML Canvas</a></li>
               <li><a href="#">HTML SVG</a></li>
               <li><a href="#">HTML Google Maps</a></li>
            </ul>
         </li>
         <li class="dropdown"><a class="dropdown-toggle"
            data-toggle="dropdown" href="#">Other Pages<span class="caret"></span></a>
            <ul class="dropdown-menu"> <!-- 메뉴 스크롤 생성 -->
               <li><a href="#">FAQ</a></li>
               <li><a href="#">404</a></li>
            </ul>
         </li>
      </ul>
     </div>
</nav>
    <!-- Page Content -->
    <div class="container">

        <!-- Portfolio Item Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">CANVAS
                    <small>불꽃놀이 예제</small>
                </h1>
            </div>
        </div>
        <!-- /.row -->
		
        <div align="center"	sclass="row">
			<canvas id="canvas"></canvas>
        </div>
        
        <!-- Portfolio Item Row -->
                <div class="row">

            <div class="col-lg-12">
                <h3 class="page-header">Related Projects</h3>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="portfolio_API.html">
                    <img class="img-responsive portfolio-item" src="http://static1.squarespace.com/static/58d9355ef5e231abb45e225a/t/58d9a8811b10e3174ee2c63b/1521482727658/" alt="">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="portfolio_drawing.html">
                    <img class="img-responsive portfolio-item" src="https://www.software.kr/thumbnail/1/gq4WeovPh1psKvtOVg3EfagJHgd9GcDC3M7Lg9Oap6eAMHoy8LHYwMkR1hFgIAzd.do" alt="">
                </a>
            </div>


            <div class="col-sm-3 col-xs-6">
                <a href="portfolio_Loading_Bar.html">
                    <img class="img-responsive portfolio-item" src="https://d2v9y0dukr6mq2.cloudfront.net/video/thumbnail/SZsu7JDqliztt1ct9/videoblocks-loading-bar-modern-concept-sign-progress-screen-download-idea-animation-design-load-alpha-channel-4k_swkumfvxw_thumbnail-full01.png" alt="">
                </a>
            </div>

            <div class="col-sm-3 col-xs-6">
                <a href="portfolio_Firework.html">
                    <img class="img-responsive portfolio-item" src="https://cbmpress.com/toronto/wp-content/uploads/sites/3/2017/07/0701_1.png" alt="">
                </a>
            </div>
        </div>


    </div>
    <!-- /.container -->
			<script type="text/javascript">
				var canvas = document.querySelector('#canvas');
				var c = canvas.getContext("2d");
				 
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;
				 
				var mouse = {
				  x: window.innerWidth / 2,
				  y: window.innerHeight / 2
				};
				 
				var isMouseDown = false;
				 
				window.addEventListener("mousemove", function(event) {
				  mouse.x = event.clientX;
				  mouse.y = event.clientY;
				});
				 
				window.addEventListener("resize", function() {
				  canvas.height = window.innerHeight;
				  canvas.width = window.innerWidth;
				 
				  initializeVariables();
				});
				 
				 
				window.addEventListener("mousedown", function() {
				  isMouseDown = true;
				});
				 
				window.addEventListener("mouseup", function() {
				  isMouseDown = false;
				});
				 
				canvas.addEventListener("touchstart", function() {
				  isMouseDown = true;
				});
				 
				canvas.addEventListener("touchmove", function(event) {
				  event.preventDefault();
				  mouse.x = event.touches[0].pageX;
				  mouse.y = event.touches[0].pageY;
				});
				 
				canvas.addEventListener("touchend", function() {
				  isMouseDown = false;
				});
				 
				 
				function Cannon(x, y, width, height, color) {
				  this.x = x;
				  this.y = y;
				  this.width = width;
				  this.height = height;
				  this.angle = 0;
				  this.color = color;
				 
				  this.update = function() {
				    desiredAngle = Math.atan2(mouse.y - this.y, mouse.x - this.x);
				    this.angle = desiredAngle;
				    this.draw();    
				  };
				 
				  this.draw = function() {
				    c.save();
				    c.translate(this.x, this.y);
				    c.rotate(this.angle);
				    c.beginPath();
				    c.fillStyle = this.color;
				    c.shadowColor = this.color;
				    c.shadowBlur = 3;
				    c.shadowOffsetX = 0;
				    c.shadowOffsetY = 0;
				    c.fillRect(0, -this.height / 2, this.width, height);
				    c.closePath();
				    c.restore();
				  };
				}
				 
				function Cannonball(x, y, dx, dy, radius, color, cannon, particleColors) {
				  this.x = x;
				  this.y = y;
				  this.dx = dx;
				  this.dy = -dy;
				  this.radius = radius;
				  this.color = color;
				  this.particleColors = particleColors;
				  this.source = cannon;
				  this.timeToLive = canvas.height / (canvas.height + 800);
				 
				  this.init = function() {
				    // Initialize the cannonballs start coordinates (from muzzle of cannon)
				    this.x = Math.cos(this.source.angle) * this.source.width;
				    this.y = Math.sin(this.source.angle) * this.source.width;
				 
				    // Translate relative to canvas positioning
				    this.x = this.x + (canvas.width / 2);
				    this.y = this.y + (canvas.height);    
				 
				    // Determine whether the cannonball should be 
				    // fired to the left or right of the cannon
				    if (mouse.x - canvas.width / 2 < 0) {
				      this.dx = -this.dx;
				    }
				 
				    this.dy = Math.sin(this.source.angle) * 8;
				    this.dx = Math.cos(this.source.angle) * 8;
				  };
				 
				  this.update = function() {
				    if (this.y + this.radius + this.dy > canvas.height) {
				      this.dy = -this.dy;
				    } else {
				      this.dy += gravity;
				    }
				 
				    this.x += this.dx;
				    this.y += this.dy;
				    this.draw();    
				 
				    this.timeToLive -= 0.01;
				  };
				 
				  this.draw = function() {
				    c.save();
				    c.beginPath();
				    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
				    c.shadowColor = this.color;
				    c.shadowBlur = 5;
				    c.shadowOffsetX = 0;
				    c.shadowOffsetY = 0;
				    c.fillStyle = this.color;
				    c.fill();
				    c.closePath();
				    c.restore();
				  };
				 
				  this.init();
				}
				 
				function Particle(x, y, dx, dy, radius, color) {
				  this.x = x;
				  this.y = y;
				  this.dx = dx;
				  this.dy = -dy;
				  this.radius = 5;
				  this.color = color;
				  this.timeToLive = 1;
				  // this.mass = 0.2;
				 
				  this.update = function() {
				    if (this.y + this.radius + this.dy > canvas.height) {
				      this.dy = -this.dy;
				    }
				 
				    if (this.x + this.radius + this.dx > canvas.width || this.x - this.radius + this.dx < 0) {
				      this.dx = -this.dx;
				    }
				    // this.dy += gravity * this.mass;
				    this.x += this.dx;
				    this.y += this.dy;
				    this.draw();
				 
				    this.timeToLive -= 0.01;
				  };
				 
				  this.draw = function() {
				    c.save();
				    c.beginPath();
				    c.arc(this.x, this.y, 2, 0, Math.PI * 2, false);
				    c.shadowColor = this.color;
				    c.shadowBlur = 10;
				    c.shadowOffsetX = 0;
				    c.shadowOffsetY = 0;
				    c.fillStyle = this.color;
				    c.fill();
				 
				    c.closePath();
				 
				    c.restore();
				  };
				}
				 
				 
				function Explosion(cannonball) {
				  this.particles = [];    
				  this.rings = [];
				  this.source = cannonball;
				 
				  this.init = function() {
				    for (var i = 0; i < 10; i++) {
				 
				      var dx = (Math.random() * 6) - 3;
				      var dy = (Math.random() * 6) - 3;
				 
				      // var hue = (255 / 5) * i;
				      // var color = "hsl(" + hue + ", 100%, 50%)";
				      var randomColorIndex = Math.floor(Math.random() * this.source.particleColors.length);
				      var randomParticleColor = this.source.particleColors[randomColorIndex];
				 
				 
				        this.particles.push(new Particle(this.source.x, this.source.y, dx, dy, 1, randomParticleColor));
				    }
				 
				    // Create ring once explosion is instantiated
				      // this.rings.push(new Ring(this.source, "blue"));
				  };
				 
				  this.init();
				 
				  this.update = function() {
				    for (var i = 0; i < this.particles.length; i++) {
				        this.particles[i].update();
				 
				        // Remove particles from scene one time to live is up
				        if (this.particles[i].timeToLive < 0) {
				          this.particles.splice(i, 1);
				        }
				    }
				 
				    // Render rings
				    for (var j = 0; j < this.rings.length; j++) {
				      this.rings[j].update();
				 
				      // Remove rings from scene one time to live is up
				        if (this.rings[j].timeToLive < 0) {
				          this.rings.splice(i, 1);
				        }
				    }
				  };
				}
				 
				var gravity = 0.08;
				var desiredAngle = 0;
				var cannon, cannonballs, explosions, colors;
				 
				function initializeVariables() {
				  cannon = new Cannon(canvas.width / 2, canvas.height, 20, 10, "white");
				  cannonballs = [];
				  explosions = [];
				  colors = [
				 
				 
				    // Red / Orange
				    {
				      cannonballColor: "#fff",
				      particleColors: [
				        "#ff4747",
				        "#00ceed",
				        "#fff",
				      ]
				    }
				 
				  ];
				 
				}
				 
				initializeVariables();
				 
				var timer = 0;
				var isIntroComplete = false;
				var introTimer = 0;
				 
				 
				function animate() {
				  window.requestAnimationFrame(animate);
				 
				  c.fillStyle = "rgba(18, 18, 18, 0.2)";
				  c.fillRect(0, 0, canvas.width, canvas.height);            
				  cannon.update();
				 
				  if (isIntroComplete === false) {
				    introTimer += 1;
				 
				    if (introTimer % 3 === 0) {
				      var randomColor = Math.floor(Math.random() * colors.length);
				      var color = colors[randomColor];
				 
				      cannonballs.push(new Cannonball(canvas.width / 2, canvas.height / 2, 2, 2, 4, color.cannonballColor, cannon, color.particleColors));
				    }
				 
				    if (introTimer > 30) {
				      isIntroComplete = true;
				    }
				 
				  }
				 
				 
				  // Render cannonballs
				  for (var i = 0; i < cannonballs.length; i++) {
				      cannonballs[i].update();
				 
				      if (cannonballs[i].timeToLive <= 0) {
				 
				        // Create particle explosion after time to live expires
				        explosions.push(new Explosion(cannonballs[i]));
				 
				        cannonballs.splice(i, 1);
				 
				      }
				  }
				 
				  // Render explosions
				  for (var j = 0; j < explosions.length; j++) {
				        //Do something
				        explosions[j].update();
				 
				      // Remove explosions from scene once all associated particles are removed
				      if (explosions[j].particles.length <= 0) {
				        explosions.splice(j, 1);
				      }
				  }    
				 
				 
				  if (isMouseDown === true) {
				    timer += 1;
				    if (timer % 3 === 0) {
				      var randomParticleColorIndex = Math.floor(Math.random() * colors.length);
				      var randomColors = colors[randomParticleColorIndex];
				 
				      cannonballs.push(new Cannonball(mouse.x, mouse.y, 2, 2, 4, randomColors.cannonballColor, cannon, randomColors.particleColors));
				    }
				  }
				}
				 
				animate();
				</script>
        <!-- /.row -->

        <!-- Related Projects Row -->

        <!-- /.row -->

        <hr>

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
                    <p>Copyright &copy; Your Website 2014</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

  
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</body>

</html>
