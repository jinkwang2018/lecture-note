<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="b.css" />
  <script type="text/javascript">
 
function allowDrop(ev) {
    ev.preventDefault();
}

function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
    
}

function drop(ev) { 
	//drop
	 ev.preventDefault();
     var data = ev.dataTransfer.getData("text");
	var worker; //워커 선언
		$(document).ready(function(){
		$('iframe').attr(
						{
						"src":"https://www.youtube.com/embed/36JvP5pw3po?autoplay=1&controls=0"
						}
						);
				 
				if(worker) {                   //워커가 이미 작동중이라면 종료
                     worker.terminate(); 
                 };
                 worker = new Worker("make2.js");//워커 js를 메모리에 올린다.
                 worker.onmessage = function(event) {
                	 if(event.data==5){
                		 $('#hide').show();
                	 }
                	 if(event.data=="15"){
                		 worker.terminate();
                		 $('#video1').remove();
                		 $('#hide').before("<iframe   id='video1' width='95%' height='600px' border='0'></iframe>");
                		 $('#hide').hide();	
                		  
             		        console.log(data);
             		        $('#div2').empty();
             		        $("div > #"+data).clone().appendTo('#div2');
             		        //$('#test').attr("alt");
             		        //console.log(  $('#test').attr("alt"));
             		        
             		         $('iframe').attr("src",$('#'+data).attr("alt"));
             		        $('#name').text(data);
             		    	
                	 }
                	 console.log(event);
                };
                 
				  
			});
		   	//이미지 숨김
			$('#hide').click(function(){
		    	 //워커를 종료시킨다.
		    	worker.terminate();
		    	$('#video1').remove();
		    	$('#hide').before("<iframe   id='video1' width='95%' height='600px' border='0'></iframe>");
		    	$('#hide').hide();
		    
		        console.log(data);
		        $('#div2').empty();
		        $("div > #"+data).clone().appendTo('#div2');
		        //$('#test').attr("alt");
		        //console.log(  $('#test').attr("alt"));
		        
		       $('iframe').attr("src",$('#'+data).attr("alt"));
		        $('#name').text(data);
		    	
			});	 
	}
}
</script>
  
  
  

</head>
<body>
	<nav class="navbar navbar-default">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <a class="navbar-brand" href="main.html">HTML_API</a>
	    </div>
	    <ul class="nav navbar-nav">
		  <li class="active"><a href="main.html">Home</a></li>
		  <li><a href="Map.html">Geolocation</a></li>
		  <li><a href="Ex07_Boot.html">Drag/Drop</a></li>
		  <li><a href="form.html">Web Storage</a></li>
		  <li><a href="homepage3.html">Web Workers</a></li>
		  <li><a href="sse.html">SSE</a></li>
    	</ul>
	  </div>
	</nav>

<div class="jumbotron">
  <div class="container text-center">
    <h1 style=" color: white;" >On Air</h1>      
    <p style=" color: white;">Enjoy movies preview</p>
  </div>
</div>




	<div class="container-fluid">
		<div class="row content">
			<div class="col-sm-3 sidenav">
				<h4>Movie List..</h4>
				<ul class="nav nav-pills nav-stacked">
					<li class="active"><a href="#section1">pickup and drop
							into box</a></li>
					<div>
						<img src="Images/a.jpg" draggable="true" ondragstart="drag(event)"
							id="위대한_쇼맨"
							alt="https://www.youtube.com/embed/cnIOq6P8PUU?autoplay=1">
						<img src="Images/b.jpg" draggable="true" ondragstart="drag(event)"
							id="블랙팬셔"
							alt="https://www.youtube.com/embed/tOKt6CxtL7s?autoplay=1">
						<img src="Images/d.jpg" draggable="true" ondragstart="drag(event)"
							id="늑대아이"
							alt="https://www.youtube.com/embed/CVRON0VXr_I?autoplay=1">
						<img src="Images/e.jpg" draggable="true" ondragstart="drag(event)"
							id="인셉션"
							alt="https://www.youtube.com/embed/hx1fqhNoH8A?autoplay=1">
						
					</div>

				</ul>
				<br>
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search Blog..">
					<span class="input-group-btn">
						<button class="btn btn-default" type="button">
							<span class="glyphicon glyphicon-search"></span>
						</button>
					</span>
				</div>
			</div>

			<div class="col-sm-9">
				<h4>
					<small>RECENT POSTS</small>
				</h4>
				<hr>


				<div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
				<h2>I Love Movie</h2>
				<p id="name">Movie name</p>
				<br>
				<br>
	
				<hr>
				<iframe id="video1" width="95%" height="600px"></iframe>
				<input type="button" id="hide" class="btn btn-danger" value="광고 건너뛰기" style="display: none">
				<hr>
	
				<h4>Leave a Comment:</h4>
				<form role="form">
					<div class="form-group">
						<textarea class="form-control" rows="3" required></textarea>
					</div>
					<button type="submit" class="btn btn-success">Submit</button>
				</form>
				<br>
				<br>


			</div>
		</div>
	</div>


	<footer class="container-fluid">
  <p>Footer Text</p>
</footer>
 <script type="text/javascript">
	
		
			
	</script>
</body>
</html>
