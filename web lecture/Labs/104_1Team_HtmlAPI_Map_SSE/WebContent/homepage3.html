<!DOCTYPE html>
<html>
 <head>
  <meta charset="UTF-8" content="width=device-width">
  <title>Insert title here</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/dark-hive/jquery-ui.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <style type="text/css">
   	  body{
        font: 20px Montserrat, sans-serif;
         line-height: 1.8;
         
       }
     #iframe{
        border:0;
       }
       
	 #hide{
		float:left;
		}
	 #visible{
		float:left;
		}
	 #video{
		width:80%;
	 	}
	 #container{
	 	background-color:lavenderblush;
	 	width: 100%;
	 	height: 70%;
	 	
	 }	
  </style>
  <script type="text/javascript">
               
  </script>
 </head>
 
 <body>
 	<nav class="navbar navbar-default">
	  <div class="container-fluid">
	    <div class="navbar-header">
	      <a class="navbar-brand" href="main.html">HTML_API</a>
	    </div>
	    <ul class="nav navbar-nav">
		  <li class="active"><a href="main.html">Home</a></li>
		  <li><a href="Map.html">Geolocation</a></li>
		  <li><a href="Ex07_Boot.html">Drag/Drop</a></li>
		  <li><a href="form.html">Web Storage</a></li>
		  <li><a href="homepage3.html">Web Workers</a></li>
		  <li><a href="sse.html">SSE</a></li>
    	</ul>
	  </div>
	</nav>
 
  <div class="col-sm-12">
   <div class="collapse navbar-collapse" id="myNavbar">
    <ul class="nav navbar-nav navbar">
       <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">menu<span class="caret"></span></a>
            <ul class="dropdown-menu">
		        <li><a href="#">1</a></li>
		        <li><a href="#text-2">2</a></li>
		        <li><a href="#text-3">3</a></li>
		        <li><a href="#text-4">4</a></li>
            </ul>
       </li>
       <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">profile<span class="caret"></span></a>
       		<ul class="dropdown-menu">
		        <li><a href="#text-1">1</a></li>
		        <li><a href="#text-2">2</a></li>
		        <li><a href="#text-3">3</a></li>
		        <li><a href="#text-4">4</a></li>
            </ul>
       </li>
       <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">one<span class="caret"></span></a>
       		<ul class="dropdown-menu">
		        <li><a href="#advertise">1</a></li>
		        	
		        <li><a href="#text-2">2</a></li>
		        <li><a href="#text-3">3</a></li>
		        <li><a href="#text-4">4</a></li>
            </ul>
       </li>
        <li class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#">two<span class="caret"></span></a>
         	<ul class="dropdown-menu">
		        <li><a href="#text-1">1</a></li>
		        <li><a href="#text-2">2</a></li>
		        <li><a href="#text-3">3</a></li>
		        <li><a href="#text-4">4</a></li>
            </ul>
        </li>
    </ul>
   
    <ul class="nav navbar-nav navbar-right">
        <li><a href=""><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
        <li><a data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
    </ul>
          
          <!--dialog-->
           <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title">Login</h4>
                </div>
                <div class="modal-body">
                        <form>
                            <div class="form-group">
                              <label for="id">ID:</label>
                              <input type="email" class="form-control" id="id" placeholder="Enter ID">
                            </div>
                            <div class="form-group">
                              <label for="pwd">Password:</label>
                              <input type="password" class="form-control" id="pwd" placeholder="Enter password">
                            </div>
                            <div class="checkbox">
                              <label><input type="checkbox"> Remember me</label>
                            </div>
                       </form>
                 </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-default">Login</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
      </div> 
  </div>    
 
  <div class="col-sm-12" id = "container">
   
    	<div id = "photo" style = "width:50%; height:100% top:" >
    		<iframe id = "iframe" width='700' height='500' allow='encrypted-media' allowfullscreen></iframe>
		</div>
			<input type ="button" id = "visible" class="btn btn-primary" value = "재생">
			<input type ="button" id = "hide" class="btn btn-danger" value = "광고 건너뛰기" style = display:none >
    </div>
 
  
  <div id = "footer" class="container-fluid bg-4 text-center">
     <p></p> 
  </div>
 
 
  
  <script type="text/javascript">
	
		if(window.Worker){ //웹 워커를 지원하는 브라우져인지 확인
			alert("이 브라우저는 웹 워커를 지원합니다")
			var worker; //워커 선언
				$(document).ready(function(){
					
					//이미지 보이기
					$('#visible').click(function(){
						
						$('iframe').attr(
								{
								"src":"https://www.youtube.com/embed/wrbsA3eOSxo?autoplay=1&controls=0",
								
								
								 
									}
								);
						 
						if(worker) {                   //워커가 이미 작동중이라면 종료
	                         worker.terminate(); 
	                     };
	                     worker = new Worker("make.js");//워커 js를 메모리에 올린다.
	                     worker.onmessage = function(event) {
	                    	 if(event.data==5){
	                    		 $('#hide').show();
	                    	 }
	                    	 if(event.data=="15"){
	                    		 worker.terminate();
	                    		 $('#photo>iframe').remove();
	                    		 $('#photo').prepend("<iframe width='700' height='500' allow='encrypted-media' allowfullscreen style='border:0;'></iframe>");
	                    		 $('#hide').hide();	
	                    	 }
	                    	 console.log(event);
	                    };
	                     
						  
					});
				   	//이미지 숨김
					$('#hide').click(function(){
				    	 //워커를 종료시킨다.
				    	worker.terminate();
				    	$('#photo>iframe').remove();
				    	$('#photo').prepend("<iframe width='700' height='500' allow='encrypted-media' allowfullscreen style='border:0;'></iframe>");
				    	$('#hide').hide();
					});	 
				    
				});
		}else{
			alert("이 브라우저는 웹 워커를 지원하지 않습니다")
		}
			
	</script>
 </body>
</html>
